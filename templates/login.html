{% extends "base.html" %}

{% block title %}Login - Digital Learning Platform{% endblock %}

{% block content %}
<div class="relative flex items-center justify-center min-h-screen overflow-hidden bg-gradient-to-r from-blue-500 via-purple-600 to-pink-500">

  <!-- Animated background blobs -->
  <span class="absolute -top-20 -left-20 w-80 h-80 bg-pink-400/30 rounded-full animate-pulseSlow"></span>
  <span class="absolute -bottom-32 -right-24 w-96 h-96 bg-yellow-300/20 rounded-full animate-pulseSlow"></span>
  <span class="absolute -top-10 right-1/3 w-72 h-72 bg-cyan-300/30 rounded-full animate-pulseSlow"></span>

  <!-- Centered container -->
  <div class="container mx-auto px-4 flex justify-center items-center min-h-screen">
    <!-- Glassmorphic card -->
    <div class="relative w-full max-w-md p-10 bg-white/20 backdrop-blur-md border border-white/30 rounded-3xl shadow-2xl z-10">
      
      <!-- Heading -->
      <h2 class="text-4xl font-extrabold text-center text-black" aria-hidden="true"></i>Welcome Back
      </h2>

      {% if error %}
        <div class="mb-4 p-3 text-sm rounded-lg text-red-700 bg-red-100 animate-fade">
          {{ error }}
        </div>
      {% endif %}

      <form action="{{ url_for('login') }}" method="POST" class="space-y-6">

        <!-- Email input -->
        <div class="relative group">
          <input type="email" name="email" id="email" placeholder="Email" required
                 class="peer w-full p-4 rounded-2xl bg-white/70 text-black placeholder-transparent focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all duration-300">
          <label for="email"
                 class="absolute left-4 top-4 text-gray-400 text-sm transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-gray-400 peer-placeholder-shown:text-base peer-focus:top-1 peer-focus:text-white peer-focus:text-sm pointer-events-none">
            Email
          </label>
          <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-cyan-400 transition-all group-focus-within:w-full"></span>
        </div>

        <!-- Password input -->
        <div class="relative group">
          <input type="password" name="password" id="password" placeholder="Password" required
                 class="peer w-full p-4 rounded-2xl bg-white/70 text-black placeholder-transparent focus:outline-none focus:ring-2 focus:ring-cyan-400 transition-all duration-300">
          <label for="password"
                 class="absolute left-4 top-4 text-gray-400 text-sm transition-all peer-placeholder-shown:top-4 peer-placeholder-shown:text-gray-400 peer-placeholder-shown:text-base peer-focus:top-1 peer-focus:text-white peer-focus:text-sm pointer-events-none">
            Password
          </label>
          <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-cyan-400 transition-all group-focus-within:w-full"></span>
        </div>

        <!-- Login button -->
        <button type="submit"
                class="w-full py-3 rounded-2xl bg-gradient-to-r from-pink-400 via-cyan-400 to-purple-500 text-white font-semibold shadow-xl hover:scale-105 hover:shadow-2xl transition-transform duration-300">
          Login
        </button>
      </form>

      <!-- Sign up link -->
      <p class="text-center text-black mt-6">
        Donâ€™t have an account?
        <a href="{{ url_for('register') }}" class="underline font-medium hover:text-cyan-300 transition-colors">Sign Up</a>
      </p>
    </div>
  </div>
</div>

<!-- Custom CSS -->
<style>
/* Fade animation */
@keyframes fade {
  0% { opacity: 0; transform: translateY(-10px); }
  100% { opacity: 1; transform: translateY(0); }
}
.animate-fade { animation: fade 0.6s ease forwards; }

/* Slow pulsing background shapes */
@keyframes pulseSlow {
  0%, 100% { transform: scale(1) translate(0,0); }
  50% { transform: scale(1.2) translate(10px, -10px); }
}
.animate-pulseSlow { animation: pulseSlow 10s ease-in-out infinite; }

/* Floating label input */
input:focus + label,
input:not(:placeholder-shown) + label {
  top: 0.25rem;
  left: 1rem;
  font-size: 0.875rem;
  color: #ffffff;
  text-shadow: 0 0 3px rgba(255,255,255,0.6);
}

/* Input underline animation */
.group:focus-within span {
  width: 100%;
}

/* Ensure card stands above background shapes */
.relative.z-10 { z-index: 10; }

/* Responsive container padding */
@media (max-width: 640px) {
  .container { padding: 0 1rem; }
  .w-full.max-w-md { width: 100%; padding: 2rem 1.5rem; }
}
</style>
{% endblock %}